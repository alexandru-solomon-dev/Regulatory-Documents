# Рекомендации по форматированию

## Правила именования

### Код

- Используйте значимые и описательные имена для переменных, методов и классов.
- Предпочитайте ясность по поводу краткости.
- Избегайте использования аббревиаций или акронимов в именах, за исключением широко известных и принятых аббревиаций. В случаях использовании аббревиатур в имени, она считается словом и подвергается соответствующему форматированию. Например, `myJson`, `url` вместо `myJOSN` или `URL`.
- Избегайте использования однобуквенных имен, за исключением простых счетчиков циклов.
- На соглашение об именовании не влияют модификаторы, такие как `static` или `readonly`.
- Имена классов, методов, перечислений, пространств имен, `public`, `protected`, `internal` полей и свойств: **PascalCase**. Например, `MyClass`, `MyMethod()`.
- Имена локальных переменных, параметров: **camelCase**. Например, `localVariable`, `MyMethod(int intParameter)`.
- Имена для `private` полей и свойств: **_camelCase**. Например, `_privateField`.
- Имена интерфейсов начинаются с заглавной буквы I. Как правило имя содержит существительное и/или прилагательного с суффиксом -able.  Например `IMediator`, `IDamageable`, `IPayloadState`.
- Типы атрибутов заканчиваются словом Attribute. Например `CustomValidationAttribute`
- При объявлении эвента начинать его имя со слова 'on', если это возможно. Например `public event Action<T> OnValueChanged`, `OnTakeDamage`.
- При объявлении поля класса его имя не должно содержать существительное из имени класса. Например, для класса `PlayerMove` можно объявить поле `MoveSpeed`, но не `PlayerSpeed`. Или для `Heath` - `CurrentValue`, а не `CurrentHeath`.

> [!Important]
> При необходимости в имя поля или параметра включите единицы измерения или обязательно распишите [`summary`](#Summary), если это может вызвать путаницу или недопонимание.
> Например для поля `_rotationSpeed`: 
> ```c#
> /// <summary>
> /// Rotational speed in radians per second.
> /// </summary>
> private float _rotationSpeed;
> ```
> Иначе переименовать в `_rotationSpeedRadianPerSecond`.

### Файлы

- Имена файлов и каталогов приводятся в **PascalCase**, например `MyFile.cs`.
- По возможности имя файла должно совпадать с именем основного класса в файле, например, `MyClass.cs`.
- В целом, предпочтительно использовать один основной класс в одном файле.

## Организация

Декларации использования пространств имен идут сверху, перед любыми пространствами имен. Порядок использования импорта - алфавитный, за исключением импорта System, который всегда идет первым.

```c#
using System;
using System.Collections;
using CodeBase.MyNamespace;
using UnityEngine;
using Zenject;

namespace Namespace1
{  ...  }

namespace Namespace2
{  ...
  namespace NestedNamespace
  {  ...  }
}
```

Упорядочивание членов класса:
Группируйте члены класса в следующем порядке:
- Вложенные классы, перечисления, делегаты и события.
- Статические, const и readonly поля.
- Поля и свойства.
- Конструкторы и финализаторы.
- Методы.

Внутри каждой группы элементы должны располагаться в следующем порядке:  
1. `public`  
1. `internal`  
1. `protected internal`  
1. `protected`  
1. `private`

По возможности группируйте реализации интерфейсов вместе. 

[Пример структуры класса](https://github.com/Krasnov-Midnight/Regulatory-Documents/blob/main/Example/ClassOrganization.cs)

> [!Note]
> - MonoBehaviour эвент методы, такие как `OnTriggerEnter`, `OnEnable` и т.п. Ставятся по иерархии выше.  
> - Исключением нарушения порядка расположения элементов в зависимости от уровня доступа является только для достижения расположения сериализивынных полей в логические группы. Что бы не использовать группировку от сторонних инструментов или Editor скрипты.
> - Если есть публичные вложенные классы или перечисления, рассмотрите вариант сделать их внешними.

## Правила отступов

- Не более одного объявления в строке. Например, `int variableA, variableB;` :x:
- Не более одного присвоения в строке. Например, `variableA = variableB = 127;` :x:
- Отступ - 2 пробела, без табуляции.
- Ограничение символов в строке 125. При необходимости может выставляться по самой малой вместимости символов на экране среди разработчиков. 
- Пробел после `if`/`for`/`while` и т. д., а также после запятых.
- После открывающей скобки и перед закрывающей скобкой пробел не ставится.
- Нет пробела между унарным оператором и его операндом. Один пробел между оператором и каждым операндом всех остальных операторов.
- Открывающая скобка и закрывающая скобка на новой строке.
- Пустые блоки могут быть краткими. Например, `void DoNothing() {}`
- Допускается объявление коротких `enum` и коллекций в одну строку. Например, `int[] a = new[] { 1, 2, 3 };`
- Скобки используются, даже если они необязательны. Исключением может быть только для конструкции `if` c `continue`, `return` или `break`.  
Например, `if (!condition) return;`
- В общем случае продолжения строк отступают на 4 пробела.
- Разрывы строк со скобками (например, инициализаторы списков, лямбды, инициализаторы объектов и т. д.) не считаются продолжением.
- Для определений и вызовов функций, если все аргументы не помещаются в одну строку, их следует разбить на несколько строк, при этом каждая последующая строка должна быть выровнена по первому аргументу. Если места для этого недостаточно, аргументы могут быть размещены в последующих строках с отступом в четыре пробела.

[Пример с правилами отступов](https://github.com/Krasnov-Midnight/Regulatory-Documents/blob/main/Example/WhiteSpacesRules.cs)

# Рекомендации по кодированию

## Использование ключевого слова `var`

Использование `var` приветствуется, если оно способствует удобочитаемости, позволяя избежать очевидных или несущественных имен типов.

- Например при объявлении переменой в случае когда в правой части тип явно указывается.  
Например, `var ticket = new Ticket();`, `var intArray = new int[4];`, `var request = Factory.Create<HttpRequest>();`.
- Для переходных переменных, которые исключительно передаются в другие методы.  
Например, `var item = GetItem(); ProcessItem(item);`

Запрещается использовать `var` в следующих случаях:
- В цикле `foreach` всегда указывайте тип явно. Например, `foreach(People testSubject in _controlGroup)`.
- При работе с базовыми типами. Например, `bool success = true;`, `string message = "message text";`, `int counter = 0;`.
- При получении результата из метода, когда тип явно не указывается. Например, `Item item = GetItem();`

## Атрибуты

Атрибуты должны располагаться в строке над полем, свойством, классом или методом, с которым они связаны, и отделяться от члена новой строкой.  
Исключением может быть только при использовании не более одного атрибута относительно свойств и полей, если это благоприятно повлияет на читаемость кода.  
Несколько атрибутов должны быть каждый в своих скобках и разделены новыми строками. Это позволяет легче добавлять и удалять атрибуты, а также обеспечивает удобный поиск по каждому атрибуту.

[Пример использования атрибутов](https://github.com/Krasnov-Midnight/Regulatory-Documents/blob/main/Example/AttributeExample.cs)

## Summary
